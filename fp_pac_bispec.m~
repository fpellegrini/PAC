function [b_orig b_anti] = fp_pac_bispec(data,fs,filt)

nroi = size(data,1);
segleng = 2*fs;
segshift = 2*fs;
epleng = segleng;

fres=fs;
frqs = sfreqs(fres, fs);
freqinds_low = [find(frqs==mean(filt.low)) find(frqs==(mean(filt.high)-mean(filt.low)))];
freqinds_up = [find(frqs==mean(filt.low)) find(frqs==mean(filt.high))];

for aroi = 1:nroi
    for proi = aroi+1:nroi
        
        X = data([aroi proi],:,:); 
        [bs_up,~] = data2bs_event(X(:,:)', segleng, segshift, epleng, freqinds_up);
        biv_orig_up = log10([abs(bs_up(1, 2, 2)) abs(bs_up(2, 1, 1))]);
        xx = bs_up - permute(bs_up, [2 1 3]); %Bkmm - Bmkm
        biv_anti_up = log10([abs(xx(1, 2, 2)) abs(xx(2, 1, 1))]);
        
        [bs_low,~] = data2bs_event(X(:,:)', segleng, segshift, epleng, freqinds_low);
        biv_orig_low = log10([abs(bs_low(1, 2, 2)) abs(bs_low(2, 1, 1))]);
        xx = bs_low - permute(bs_low, [2 1 3]);
        biv_anti_low = log10([abs(xx(1, 2, 2)) abs(xx(2, 1, 1))]);
        
        b_orig(aroi,proi) = 
        
    end
end

% null distribution bispectra
% X_chan_shuff = X(:,2);
% split_sig_bi = reshape(X_chan_shuff, length(X_chan_shuff)/n_trials, n_trials);
% 
% for ishuff = 1:10
% 
%     ind = randperm(n_trials)';
%     
%     split_sig_bi_shuff = split_sig_bi(:,ind);
% 
%     X_shuff = [ X(:,2), split_sig_bi mix_shuff(:) ];
%      
%     [bs_up,nave] = data2bs_event(X_shuff, segleng, segshift, epleng, freqinds_up);
%     biv_orig_up = log10([abs(bs_up(1, 2, 2)) abs(bs_up(2, 1, 1))]);
%     xx = bs_up - permute(bs_up, [2 1 3]);
%     biv_anti_up = log10([abs(xx(1, 2, 2)) abs(xx(2, 1, 1))]);
% end